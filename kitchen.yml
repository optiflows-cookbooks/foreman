---
driver:
  name: vagrant

provisioner:
  name: chef_zero
  deprecations_as_errors: true

platforms:
  - name: debian-10
    driver:
      customize:
        memory: 2048
  - name: ubuntu-18.04
    driver:
      customize:
        memory: 2048

suites:
  - name: default
    driver:
      network:
        - ["private_network", {ip: "172.16.0.2"}]
    run_list:
      - recipe[foreman]
      - recipe[foreman::proxy]
    attributes:
      bind:
        masters:
          - 172.16.0.2
        zones:
          nsmaster: ns.foreman.example
          nsmaster_ip: 172.16.0.2
          email: root.foreman.example
      postgresql:
        password:
          postgres: toor
      dhcp:
        interfaces:
          - eth0
      foreman-proxy:
        # FIXME: Register the Smart-Proxy is failing.
        register: false
        ssl: false
        http: true
        dns: true
        dns_interface: eth0
        dhcp: true
        dhcp_interface: eth0
        dhcp_range: 172.16.0.10 172.16.0.20
